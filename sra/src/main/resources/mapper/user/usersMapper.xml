<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.twogether.sra.user.dao.UserDAO">

    <select id="findByUserLoginId" parameterType="string" resultType="com.twogether.sra.user.vo.UserVO">
        SELECT
        T.USER_ID AS userId,
        T.USER_LOGIN_ID AS userLoginId,
        T.USER_USERNAME AS userUsername,
        T.USER_PASSWORD AS userPassword,
        T.USER_EMAIL AS userEmail,
        T.USER_NICKNAME AS userNickname,
        T.USER_PROFILE_IMAGE_URL AS userProfileImageUrl,
        T.USER_BIO AS userBio,
        T.RULE_ID AS ruleId,   R.RULE_NAME AS ruleName FROM
        TB_USER T
        LEFT JOIN
        TB_RULE R ON T.RULE_ID = R.RULE_ID
        WHERE
        T.USER_LOGIN_ID = #{userLoginId}
    </select>

    <select id="findByUserEmail" parameterType="string" resultType="com.twogether.sra.user.vo.UserVO">
        SELECT
        T.USER_ID AS userId,
        T.USER_LOGIN_ID AS userLoginId,
        T.USER_USERNAME AS userUsername,
        T.USER_PASSWORD AS userPassword,
        T.USER_EMAIL AS userEmail,
        T.USER_NICKNAME AS userNickname,
        T.USER_PROFILE_IMAGE_URL AS userProfileImageUrl,
        T.USER_BIO AS userBio,
        T.RULE_ID AS ruleId,
        R.RULE_NAME AS ruleName FROM
        TB_USER T
        LEFT JOIN
        TB_RULE R ON T.RULE_ID = R.RULE_ID
        WHERE
        T.USER_EMAIL = #{userEmail}
    </select>

</mapper>